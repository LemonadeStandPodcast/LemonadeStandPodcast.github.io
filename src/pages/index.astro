---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import { getCollection } from 'astro:content';
import FormattedDate from '../components/FormattedDate.astro';

const allEpisodes = await getCollection('episodes');
const sortedEpisodes = allEpisodes.sort((a, b) => b.data.episodeNumber - a.data.episodeNumber);
const latestEpisode = sortedEpisodes[0];
const recentEpisodes = sortedEpisodes.slice(1, 3);
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<style>
			.gradient-text {
				background: linear-gradient(90deg, #EAB308 0%, #34D399 50%, #059669 100%);
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				background-clip: text;
			}
			
			.hero-gradient {
				background: radial-gradient(circle at 10% 20%, rgba(234, 179, 8, 0.2) 0%, rgba(52, 211, 153, 0.1) 90%);
			}
			
			.animate-float {
				animation: float 6s ease-in-out infinite;
			}
			
			@keyframes float {
				0% { transform: translateY(0px); }
				50% { transform: translateY(-20px); }
				100% { transform: translateY(0px); }
			}
			
			.metric-card {
				transition: all 0.3s ease;
			}
			
			.metric-card:hover {
				transform: translateY(-10px);
			}

			.floating-lemons {
				position: absolute;
				width: 100%;
				height: 100%;
				pointer-events: none;
				z-index: 0;
			}
			
			.lemon {
				position: absolute;
				animation: floatAround 15s infinite;
				opacity: 0.1;
			}
			
			@keyframes floatAround {
				0%, 100% { transform: translate(0, 0) rotate(0deg); }
				25% { transform: translate(100px, 50px) rotate(90deg); }
				50% { transform: translate(50px, 100px) rotate(180deg); }
				75% { transform: translate(-50px, 50px) rotate(270deg); }
			}
			
			.glow-effect {
				animation: softGlow 3s ease-in-out infinite;
				background: linear-gradient(90deg, #EAB308, #059669);
				-webkit-background-clip: text;
				background-clip: text;
				position: relative;
			}

			.funding-badge {
				position: relative;
				overflow: hidden;
				background: linear-gradient(90deg, #EAB308, #059669);
				transition: transform 0.3s ease;
			}

			.funding-badge:hover {
				transform: translateY(-2px);
			}

			.funding-badge::before {
				content: '';
				position: absolute;
				top: -50%;
				left: -50%;
				width: 200%;
				height: 200%;
				background: linear-gradient(
					45deg,
					transparent,
					rgba(255, 255, 255, 0.3),
					transparent
				);
				transform: rotate(45deg);
				animation: shine 3s infinite;
			}

			@keyframes shine {
				0% { transform: translateX(-100%) rotate(45deg); }
				100% { transform: translateX(100%) rotate(45deg); }
			}

			@keyframes softGlow {
				0%, 100% { text-shadow: 0 0 10px rgba(234, 179, 8, 0.5); }
				50% { text-shadow: 0 0 20px rgba(52, 211, 153, 0.5); }
			}
			
			.spin-slowly {
				animation: spin 20s linear infinite;
			}
			
			@keyframes spin {
				from { transform: rotate(0deg); }
				to { transform: rotate(360deg); }
			}
		</style>
	</head>
	<body class="min-h-screen bg-white dark:bg-gray-900">
		<Header />
		
		<main>
			<!-- Floating Lemons Background -->
			<div class="floating-lemons">
				{[...Array(5)].map((_, i) => (
					<div 
						class="lemon" 
						style={`top: ${Math.random() * 100}%; left: ${Math.random() * 100}%; animation-delay: -${i * 3}s;`}
					>
													üçã
					</div>
				))}
			</div>

			<!-- Hero Section -->
			<section class="hero-gradient py-24 border-b border-gray-200 dark:border-gray-700 relative overflow-hidden">
				<div class="container max-w-6xl mx-auto px-4">
					<div class="flex flex-col md:flex-row items-center">
						<div class="md:w-1/2 mb-10 md:mb-0 relative z-10">
							<div class="mb-4">
								<span class="funding-badge text-gray-900 px-4 py-2 rounded-full text-sm font-bold inline-block">
															üöÄ Series A Funded!
								</span>
							</div>
							<h1 class="text-5xl md:text-7xl font-extrabold mb-4 text-gray-900 dark:text-white">
								<span class="gradient-text">Disrupting</span> the 
								<br><span class="glow-effect">Lemonade</span> Industry
								<br>with <span class="gradient-text">AGI</span>
							</h1>
							<p class="text-xl md:text-2xl text-gray-600 dark:text-gray-300 mb-8 max-w-lg">
								Revolutionizing the $187B lemonade market with GPT-5 powered taste prediction and autonomous robotic squeezing.
							</p>
							<div class="flex flex-wrap gap-4">
								<a href="/episodes" class="px-8 py-4 bg-gradient-to-r from-yellow-500 via-lime-500 to-green-500 bg-size-200 animate-gradient-x text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
									Taste the Future ü§ñ
								</a>
								<a href={`/episodes/${latestEpisode.slug}/`} class="px-8 py-4 border-2 border-gray-800 dark:border-gray-200 text-gray-800 dark:text-gray-200 font-bold rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-300 transform hover:-translate-y-1">
									Latest Episode üéôÔ∏è
								</a>
							</div>
							<div class="mt-8 p-4 bg-white/10 backdrop-blur-lg rounded-xl border border-gray-200 dark:border-gray-700">
								<div class="flex items-center gap-4 mb-2">
									<div class="h-2 w-2 bg-green-500 rounded-full animate-pulse"></div>
									<p class="text-sm text-gray-600 dark:text-gray-400">AI Stats (Live)</p>
								</div>
								<div class="grid grid-cols-2 gap-4">
									<div>
										<p class="text-2xl font-bold text-gray-900 dark:text-white">1.2M</p>
										<p class="text-sm text-gray-500">Parameters/Lemon</p>
									</div>
									<div>
										<p class="text-2xl font-bold text-gray-900 dark:text-white">99.9%</p>
										<p class="text-sm text-gray-500">AI Confidence*</p>
									</div>
								</div>
								<p class="text-xs text-gray-400 mt-2">*May not reflect actual lemonade quality</p>
							</div>
						</div>
						<div class="md:w-1/2 relative">
							<div class="absolute inset-0 bg-gradient-to-br from-yellow-300 to-lime-400 rounded-full blur-3xl opacity-20 animate-pulse"></div>
							<div class="relative w-full max-w-md mx-auto animate-float">
								<div class="relative bg-white dark:bg-gray-800 rounded-3xl p-1 shadow-2xl overflow-hidden transform hover:scale-105 transition-transform duration-300">
									{latestEpisode && (
										<img
											src={`https://img.youtube.com/vi/${latestEpisode.data.youtubeId}/maxresdefault.jpg`}
											alt={latestEpisode.data.title}
											class="w-full aspect-video object-cover rounded-2xl"
										/>
										)}
									<div class="absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full animate-pulse">
										LIVE
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- Ridiculous Metrics Section -->
			<section class="py-16 bg-gray-50 dark:bg-gray-800/50">
				<div class="container max-w-6xl mx-auto px-4">
					<h2 class="text-3xl font-bold text-center mb-12 text-gray-900 dark:text-white">Our <span class="gradient-text">AI-Powered</span> Metrics</h2>
					<div class="grid grid-cols-1 md:grid-cols-4 gap-8">
						<div class="metric-card bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg text-center">
							<div class="text-4xl font-bold mb-2 gradient-text">42</div>
							<p class="text-gray-600 dark:text-gray-400">LLMs Deployed</p>
							<p class="text-sm text-gray-500 dark:text-gray-500 mt-2">Just for sugar measurement</p>
						</div>
						<div class="metric-card bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg text-center">
							<div class="text-4xl font-bold mb-2 gradient-text">7.3B</div>
							<p class="text-gray-600 dark:text-gray-400">Parameters</p>
							<p class="text-sm text-gray-500 dark:text-gray-500 mt-2">To squeeze one lemon</p>
						</div>
						<div class="metric-card bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg text-center">
							<div class="text-4xl font-bold mb-2 gradient-text">0</div>
							<p class="text-gray-600 dark:text-gray-400">Human Input</p>
							<p class="text-sm text-gray-500 dark:text-gray-500 mt-2">100% autonomous operation</p>
						</div>
						<div class="metric-card bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg text-center">
							<div class="text-4xl font-bold mb-2 gradient-text">‚àû</div>
							<p class="text-gray-600 dark:text-gray-400">Computing Power</p>
							<p class="text-sm text-gray-500 dark:text-gray-500 mt-2">Required per glass</p>
						</div>
					</div>
				</div>
			</section>

			<!-- AI Features Banner -->
			<section class="py-8 bg-gradient-to-r from-yellow-500 via-lime-500 to-green-500 bg-size-200 relative overflow-hidden">
				<div class="absolute inset-0 flex items-center whitespace-nowrap marquee">
					<div class="animate-marquee flex gap-8 text-white/20 text-4xl font-bold">
						NEURAL NETWORKS ‚Ä¢ DEEP LEARNING ‚Ä¢ GPT-5 ‚Ä¢ AUTONOMOUS JUICING ‚Ä¢ QUANTUM TASTE PREDICTION ‚Ä¢ ROBOTIC GARNISHING ‚Ä¢ SENTIMENT-BASED PRICING ‚Ä¢&nbsp;
					</div>
					<div class="animate-marquee flex gap-8 text-white/20 text-4xl font-bold" aria-hidden="true">
						NEURAL NETWORKS ‚Ä¢ DEEP LEARNING ‚Ä¢ GPT-5 ‚Ä¢ AUTONOMOUS JUICING ‚Ä¢ QUANTUM TASTE PREDICTION ‚Ä¢ ROBOTIC GARNISHING ‚Ä¢ SENTIMENT-BASED PRICING ‚Ä¢&nbsp;
					</div>
				</div>
				<div class="container max-w-6xl mx-auto px-4 py-8 relative">
					<h2 class="text-3xl md:text-4xl font-bold text-white text-center glow-effect">
						The World's First AGI-Powered Lemonade Stand
					</h2>
				</div>
			</section>

			<!-- Latest Episode Section -->
			{latestEpisode && (
				<section id="latestEpisode" class="py-16">
					<div class="container max-w-6xl mx-auto px-4">
						<div class="flex flex-col md:flex-row items-start gap-8">
							<div class="md:w-1/2">
								<div class="mb-6">
									<span class="bg-gradient-to-r from-yellow-500 to-lime-500 text-white px-4 py-1 rounded-full text-sm font-semibold tracking-wide">LATEST RELEASE</span>
								</div>
								<h2 class="text-4xl font-bold mb-4 text-gray-900 dark:text-white">
									#{latestEpisode.data.episodeNumber} {latestEpisode.data.title}
								</h2>
								<p class="text-lime-600 dark:text-lime-400 font-medium mb-4">
									<FormattedDate date={latestEpisode.data.pubDate} />
								</p>
								<p class="text-lg text-gray-700 dark:text-gray-300 mb-6">{latestEpisode.data.description}</p>
								<div class="flex flex-wrap gap-2 mb-6">
									{latestEpisode.data.tags.map((tag) => (
										<a
											href={`/episodes?tag=${tag}`}
											class="bg-gradient-to-r from-yellow-100 to-lime-100 dark:from-yellow-900/30 dark:to-lime-900/30 text-gray-800 dark:text-yellow-300 px-4 py-1 rounded-full text-sm font-medium hover:shadow-md transition-all"
										>
											<span class="inline-block w-2 h-2 rounded-full bg-yellow-500 dark:bg-yellow-400 mr-1"></span>
											{tag}
										</a>
									))}
								</div>
								<a
									href={`/episodes/${latestEpisode.slug}/`}
									class="inline-block bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 text-white dark:text-gray-900 px-6 py-3 rounded-xl font-medium hover:shadow-xl transition-all duration-200"
								>
									Episode Details
								</a>
							</div>
							<div class="md:w-1/2">
								<div class="bg-gradient-to-br from-yellow-300/20 to-lime-300/20 p-1 rounded-2xl shadow-xl">
									<div class="w-full aspect-video">
										<iframe
											src={`https://www.youtube.com/embed/${latestEpisode.data.youtubeId}`}
											title={latestEpisode.data.title}
											class="w-full h-full rounded-2xl"
											frameborder="0"
											allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
											allowfullscreen
										/>
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>
			)}

			<!-- Team Section -->
			<section class="py-16 bg-gray-50 dark:bg-gray-800/50">
				<div class="container max-w-6xl mx-auto px-4">
					<div class="text-center mb-12">
						<h2 class="text-3xl font-bold mb-2 text-gray-900 dark:text-white">Meet Our <span class="gradient-text">AI Pioneers</span></h2>
						<p class="text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">Three entrepreneurs on a mission to disrupt the lemonade industry with neural-network-optimized, quantum-computed, robotically-crafted lemonade.</p>
					</div>
					
					<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
						<div class="bg-white dark:bg-gray-800 rounded-2xl overflow-hidden shadow-lg">
							<div class="h-80 overflow-hidden"> <!-- Increased height to show more of the image -->
								<img 
									src="/public/aidencalvin.jpg" 
									alt="Aiden Calvin" 
									class="w-full h-full object-cover"
								/>
							</div>
							<div class="p-6">
								<h3 class="text-xl font-bold text-gray-900 dark:text-white mb-1">Aiden Calvin</h3>
								<p class="text-lime-600 dark:text-lime-400 font-medium text-sm mb-3">CEO & Lemonade Visionary</p>
								<div class="flex gap-4">
									<a href="https://x.com/aidencalvin" class="text-lime-600 dark:text-lime-400 font-medium text-sm hover:underline flex items-center gap-1">
										<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
											<path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
										</svg>
										Twitter
									</a>
									<a href="https://www.twitch.tv/calvinaiden" class="text-lime-600 dark:text-lime-400 font-medium text-sm hover:underline flex items-center gap-1">
										<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
											<path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"/>
										</svg>
										Twitch
									</a>
								</div>
							</div>
						</div>
						
						<div class="bg-white dark:bg-gray-800 rounded-2xl overflow-hidden shadow-lg">
							<div class="h-80 overflow-hidden"> <!-- Increased height to show more of the image -->
								<img 
									src="/public/atrioc.jpg" 
									alt="Atrioc" 
									class="w-full h-full object-cover"
								/>
							</div>
							<div class="p-6">
								<h3 class="text-xl font-bold text-gray-900 dark:text-white mb-1">Atrioc</h3>
								<p class="text-lime-600 dark:text-lime-400 font-medium text-sm mb-3">CMO & Meme Strategist</p>
								<div class="flex gap-4">
									<a href="https://x.com/Atrioc" class="text-lime-600 dark:text-lime-400 font-medium text-sm hover:underline flex items-center gap-1">
										<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
											<path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
										</svg>
										Twitter
									</a>
									<a href="https://www.twitch.tv/atrioc" class="text-lime-600 dark:text-lime-400 font-medium text-sm hover:underline flex items-center gap-1">
										<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
											<path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"/>
										</svg>
										Twitch
									</a>
								</div>
							</div>
						</div>
						
						<div class="bg-white dark:bg-gray-800 rounded-2xl overflow-hidden shadow-lg">
							<div class="h-80 overflow-hidden"> <!-- Increased height to match other cards -->
								<img 
									src="/public/dougdoug.jpg" 
									alt="DougDoug" 
									class="w-full h-full object-cover"
								/>
							</div>
							<div class="p-6">
								<h3 class="text-xl font-bold text-gray-900 dark:text-white mb-1">DougDoug</h3>
								<p class="text-lime-600 dark:text-lime-400 font-medium text-sm mb-3">CTO & Quantum Lemonade Engineer</p>
								<div class="flex gap-4">
									<a href="https://x.com/dougdougfood" class="text-lime-600 dark:text-lime-400 font-medium text-sm hover:underline flex items-center gap-1">
										<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
											<path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
										</svg>
										Twitter
									</a>
									<a href="https://www.twitch.tv/dougdoug" class="text-lime-600 dark:text-lime-400 font-medium text-sm hover:underline flex items-center gap-1">
										<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
											<path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"/>
										</svg>
										Twitch
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- Previous Episodes Section -->
			{recentEpisodes.length > 0 && (
				<section class="container max-w-6xl mx-auto px-4 py-16">
					<div class="flex justify-between items-center mb-10">
						<h2 class="text-3xl font-bold text-gray-900 dark:text-white">Previous Episodes</h2>
						<a href="/episodes" class="text-lime-600 dark:text-lime-400 font-medium hover:underline">View All ‚Üí</a>
					</div>
					
					<div class="grid md:grid-cols-2 gap-8">
						{recentEpisodes.map((episode) => (
							<article class="bg-white dark:bg-gray-800/50 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 flex flex-col">
								<div class="md:w-full shrink-0">
									<a href={`/episodes/${episode.slug}/`} class="block relative overflow-hidden h-full">
										<img
											src={`https://img.youtube.com/vi/${episode.data.youtubeId}/maxresdefault.jpg`}
											alt={episode.data.title}
											class="w-full h-full object-cover transition-transform duration-300 hover:scale-105"
										/>
										<div class="absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
										<div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4">
											<p class="text-white text-sm font-medium">
												<FormattedDate date={episode.data.pubDate} />
											</p>
										</div>
									</a>
								</div>
								
								<div class="p-6 flex-1 flex flex-col">
									<h3 class="text-xl font-bold text-gray-900 dark:text-white mb-3">
										<a href={`/episodes/${episode.slug}/`} class="text-white hover:text-lime-600 dark:hover:text-lime-400 transition-colors">
											#{episode.data.episodeNumber} {episode.data.title}
										</a>
									</h3>
									
									<p class="text-gray-700 dark:text-gray-300 mb-4 flex-1">
										{episode.data.description}
									</p>
									
									<div class="flex flex-wrap gap-2 mb-4">
										{episode.data.tags.map((tag) => (
											<a 
												href={`/episodes?tag=${tag}`}
												class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-1 rounded-full text-xs font-medium hover:bg-lime-100 dark:hover:bg-lime-900/30 transition-colors flex items-center gap-1"
											>
												<span class="inline-block w-2 h-2 rounded-full bg-lime-500 dark:bg-lime-400"></span>
												{tag}
											</a>
										))}
									</div>
									
									<a 
										href={`/episodes/${episode.slug}/`} 
										class="text-lime-600 dark:text-lime-400 font-medium hover:underline flex items-center"
									>
										Watch now 
										<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
											<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
										</svg>
									</a>
								</div>
							</article>
						))}
					</div>
				</section>
				)}
		</main>
		<Footer />
	</body>
</html>
